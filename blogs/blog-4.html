<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hiểu về Async/Await trong JavaScript | Đặng Hữu Phước</title>
    <meta name="keywords"
        content="JavaScript, async await, lập trình bất đồng bộ, Promise, portfolio, HUTECH, hướng dẫn JS cơ bản">
    <meta name="description"
        content="Hướng dẫn chi tiết về async/await trong JavaScript: nguyên lý hoạt động, ví dụ thực tế và cách xử lý bất đồng bộ hiệu quả.">
    <meta name="author" content="Đặng Hữu Phước">

    <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/font-awesome.min.css">

    <style>
        body {
            font-family: "Segoe UI", Roboto, sans-serif;
            background: #f5f5f5;
            color: #222;
            line-height: 1.8;
            margin: 0;
        }

        /* Navbar */
        #mainNav {
            background: #222;
            transition: background 0.3s;
        }

        #mainNav .navbar-brand {
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #fff !important;
        }

        #mainNav .nav-link {
            color: #fff !important;
            font-weight: 500;
            transition: color 0.2s;
        }

        #mainNav .nav-link:hover,
        #mainNav .nav-link.active {
            color: #007bff !important;
        }

        /* Blog Section */
        .section {
            padding: 100px 0;
        }

        .section-title h3 {
            font-family: "Courier New", monospace;
            font-size: 2rem;
            color: #000;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .section-title ul {
            list-style: none;
            padding: 0;
            margin-top: 10px;
            color: #777;
            font-size: 14px;
        }

        .section-title li {
            display: inline-block;
            margin-right: 20px;
        }

        .blog-content {
            background: #fff;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
            animation: fadeIn 0.8s ease;
        }

        .blog-content h5 {
            color: #007bff;
            font-weight: 600;
            margin-top: 25px;
            font-family: "Courier New", monospace;
        }

        .blog-content pre {
            background: #272822;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 10px;
            overflow-x: auto;
        }

        .blog-content code {
            color: #f1fa8c;
        }

        .back-to-home {
            text-align: center;
            margin-top: 40px;
        }

        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
        }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

        .copyrights {
            background: #222;
            color: #ccc;
            padding: 15px 0;
            text-align: center;
            font-size: 14px;
        }

        #scroll-to-top {
            background-color: #007bff;
            color: white;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            position: fixed;
            bottom: 25px;
            right: 25px;
            text-align: center;
            line-height: 45px;
            display: none;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        #scroll-to-top:hover {
            background-color: #0056b3;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(15px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body id="page-top">
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand" href="../index.html">Đặng Hữu Phước</a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation">
                <i class="fa fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav text-uppercase ml-auto">
                    <li class="nav-item"><a class="nav-link" href="../index.html#home">Trang chủ</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#about">Giới thiệu</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#project">Dự án</a></li>
                    <li class="nav-item"><a class="nav-link active" href="../index.html#blog">Blog</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="blog" class="section">
        <div class="container">
            <div class="section-title text-left">
                <h3>Hiểu về Async/Await trong JavaScript</h3>
                <ul>
                    <li><i class="fa fa-user"></i> bởi admin</li>
                    <li><i class="fa fa-calendar"></i> 15/10/2025</li>
                </ul>
            </div>

            <div class="blog-content">
                <h5>Giới thiệu</h5>
                <p>Trong JavaScript, việc xử lý các tác vụ bất đồng bộ như gọi API, đọc file hay chờ phản hồi từ server
                    là điều rất thường gặp. Trước đây, lập trình viên thường dùng <b>callback</b> hoặc <b>Promise</b>, nhưng
                    cú pháp lồng nhau khiến code khó đọc. Để khắc phục, ES2017 đã giới thiệu <b>async/await</b> giúp mã
                    trở nên gọn gàng và dễ hiểu hơn.</p>

                <h5>1. Async và Await là gì?</h5>
                <p>Hai từ khóa <b>async</b> và <b>await</b> là "đường tắt" để làm việc với Promise trong JavaScript:</p>
                <ul>
                    <li><b>async</b> được đặt trước một hàm, giúp hàm đó tự động trả về một Promise.</li>
                    <li><b>await</b> chỉ được dùng bên trong hàm async, giúp tạm dừng việc thực thi cho đến khi Promise hoàn tất.</li>
                </ul>

                <pre><code>async function fetchData() {
    const response = await fetch('https://api.example.com/data');
    const data = await response.json();
    console.log(data);
}
fetchData();</code></pre>

                <p>Khi hàm <code>fetchData()</code> được gọi, chương trình sẽ “chờ” cho đến khi dữ liệu được trả về mà không làm đứng luồng chính.</p>

                <h5>2. Vì sao Async/Await giúp code dễ đọc hơn?</h5>
                <p>Trước khi có async/await, ta thường phải viết chuỗi Promise như sau:</p>

                <pre><code>fetch('api/data')
  .then(res => res.json())
  .then(data => console.log(data))
  .catch(err => console.error(err));</code></pre>

                <p>Với async/await, cú pháp trở nên tuyến tính – gần giống như viết code đồng bộ:</p>

                <pre><code>async function layDuLieu() {
    try {
        const res = await fetch('api/data');
        const data = await res.json();
        console.log(data);
    } catch (error) {
        console.error("Có lỗi xảy ra:", error);
    }
}</code></pre>

                <p>Cách viết này giúp việc đọc và debug dễ dàng hơn rất nhiều, đặc biệt trong các hàm phức tạp.</p>

                <h5>3. Cách xử lý lỗi với try...catch</h5>
                <p>Khi làm việc với bất kỳ tác vụ bất đồng bộ nào, luôn nên bao quanh bằng <b>try...catch</b> để tránh lỗi không mong muốn:</p>

                <pre><code>async function getUser() {
    try {
        const res = await fetch('https://api.example.com/user/1');
        if (!res.ok) throw new Error('Không thể lấy dữ liệu người dùng');
        const user = await res.json();
        console.log(user);
    } catch (error) {
        console.error('Lỗi:', error.message);
    }
}</code></pre>

                <h5>4. Thực hành: Gọi nhiều API cùng lúc</h5>
                <p>Async/await có thể kết hợp với <code>Promise.all()</code> để chạy song song nhiều tác vụ, giúp tiết kiệm thời gian:</p>

                <pre><code>async function getPostsAndComments() {
    try {
        const [posts, comments] = await Promise.all([
            fetch('https://jsonplaceholder.typicode.com/posts').then(res => res.json()),
            fetch('https://jsonplaceholder.typicode.com/comments').then(res => res.json())
        ]);
        console.log('Bài viết:', posts);
        console.log('Bình luận:', comments);
    } catch (error) {
        console.error('Lỗi khi tải dữ liệu:', error);
    }
}</code></pre>

                <h5>5. Những lưu ý khi dùng Async/Await</h5>
                <ul>
                    <li><b>Await</b> chỉ hoạt động bên trong hàm async.</li>
                    <li>Không nên dùng quá nhiều await liên tiếp nếu các tác vụ không phụ thuộc nhau → nên dùng <code>Promise.all()</code>.</li>
                    <li>Các hàm async luôn trả về Promise, kể cả khi không có await.</li>
                    <li>Hãy luôn kết hợp với xử lý lỗi để đảm bảo tính ổn định.</li>
                </ul>

                <h5>6. Kết luận</h5>
                <p>Async/Await không chỉ giúp mã JavaScript trở nên ngắn gọn mà còn tăng khả năng đọc hiểu, bảo trì và quản lý lỗi. 
                Đây là kỹ năng nền tảng mà bất kỳ lập trình viên Frontend hoặc Backend nào cũng nên nắm vững khi làm việc với Node.js hay trình duyệt.</p>

                <p><b>Lời khuyên:</b> Hãy bắt đầu bằng việc chuyển đổi các Promise hoặc callback cũ sang async/await, và luyện tập qua các ví dụ thực tế như gọi API, xử lý file hoặc chờ timer.</p>
            </div>

            <div class="back-to-home">
                <a href="../index.html#blog" class="btn btn-primary btn-sm"><i class="fa fa-arrow-left"></i> Quay lại Blog</a>
            </div>
        </div>
    </section>

    <div class="copyrights">
        <p>Bản quyền © 2025 - Thiết kế bởi <b>Đặng Hữu Phước</b></p>
    </div>

    <div id="scroll-to-top"><i class="fa fa-angle-up"></i></div>

    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.bundle.min.js"></script>

    <script>
        $(window).scroll(function () {
            if ($("#mainNav").offset().top > 50) {
                $("#mainNav").css("background", "#111");
            } else {
                $("#mainNav").css("background", "#222");
            }
        });

        $(window).scroll(function () {
            if ($(this).scrollTop() > 200) {
                $('#scroll-to-top').fadeIn();
            } else {
                $('#scroll-to-top').fadeOut();
            }
        });

        $('#scroll-to-top').click(function () {
            $('html, body').animate({ scrollTop: 0 }, 800);
            return false;
        });
    </script>
</body>
</html>
